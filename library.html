<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <title>ุงูููุชุจุฉ ุงูุฅููุชุฑูููุฉ</title>
  <link rel="stylesheet" href="style.css">
  <style>
    #editLibraryForm { display:none; margin-top:10px; }
    #editLibraryForm input { width: 80%; padding:5px; margin-bottom:5px; display:block; }
    #editLibraryForm button { padding:5px 10px; }
    .book-item { margin-bottom:5px; }
    .remove-btn { margin-left:10px; cursor:pointer; color:red; }
  </style>
</head>
<body>
  <div class="logo-left">
    <img src="assets/logo2.png" alt="Left Logo">
  </div>

  <div class="logo-right">
    <img src="assets/logo1.png" alt="Right Logo">
  </div>
  <header>

    <h1>๐ ุงูููุชุจุฉ ุงูุฅููุชุฑูููุฉ</h1>
  </header>

  <nav>
    <a href="index.html">ุงูุฑุฆูุณูุฉ</a>
    <a href="talents.html">ุงูููุงูุจ</a>
    <a href="parents.html">ููุณุงุช ูููู ุงูุฃูุฑ</a>
    <a href="library.html">ุงูููุชุจุฉ ุงูุฅููุชุฑูููุฉ</a>
    <a href="achievements.html">ุฅูุฌุงุฒุงุช ุงููุฏุฑุณุฉ</a>
  </nav>

  <section>
    <h2>
      ุงููุชุจ ุงููุชุงุญุฉ
      <button id="editLibraryBtn" class="small-btn">โ๏ธ ุชุนุฏูู ุงูููุชุจุฉ</button>
    </h2>

    <ul id="libraryContent">
      <li class="book-item"><a href="assets/sample.pdf" target="_blank">ูุชุงุจ ุชุฌุฑูุจู</a></li>
    </ul>

    <!-- Edit Form -->
    <div id="editLibraryForm">
      <input type="text" id="bookName" placeholder="ุงุณู ุงููุชุงุจ">
      <input type="text" id="bookURL" placeholder="ุฑุงุจุท ุงููุชุงุจ">
      <button id="addBookBtn">โ ุฅุถุงูุฉ</button>
    </div>
  </section>

  <footer>
    <p>ยฉ 2025 ุจูุงุจุฉ ุงูุฅุจุฏุงุน</p>
  </footer>

  <script>
    const ADMIN_PASS = "Admin_2002";
    const LIBRARY_KEY = "bawabatalibda3_library";

    const libraryContent = document.getElementById("libraryContent");
    const editBtn = document.getElementById("editLibraryBtn");
    const editForm = document.getElementById("editLibraryForm");
    const bookName = document.getElementById("bookName");
    const bookURL = document.getElementById("bookURL");
    const addBookBtn = document.getElementById("addBookBtn");

    let books = JSON.parse(localStorage.getItem(LIBRARY_KEY) || "[]");
    if (books.length) renderBooks();

    function renderBooks() {
      libraryContent.innerHTML = "";
      books.forEach((book, i) => {
        const li = document.createElement("li");
        li.className = "book-item";
        li.innerHTML = `<a href="${book.url}" target="_blank">${book.name}</a>`;

        if (editForm.style.display === "block") {
          const delBtn = document.createElement("span");
          delBtn.textContent = "๐";
          delBtn.className = "remove-btn";
          delBtn.onclick = () => {
            books.splice(i, 1);
            saveBooks();
            renderBooks();
          };
          li.appendChild(delBtn);
        }

        libraryContent.appendChild(li);
      });
    }

    function saveBooks() {
      localStorage.setItem(LIBRARY_KEY, JSON.stringify(books));
    }

    editBtn.addEventListener("click", () => {
      const pass = prompt("ุฃุฏุฎู ูููุฉ ุงููุฑูุฑ ููุชุนุฏูู:");
      if (pass !== ADMIN_PASS) return alert("ูููุฉ ุงููุฑูุฑ ุบูุฑ ุตุญูุญุฉ โ");
      editForm.style.display = "block";
      renderBooks();
    });

    addBookBtn.addEventListener("click", () => {
      const name = bookName.value.trim();
      const url = bookURL.value.trim();
      if (!name || !url) return alert("ุงูุฑุฌุงุก ุฅุฏุฎุงู ุงุณู ุงููุชุงุจ ูุงูุฑุงุจุท");
      books.push({ name, url });
      bookName.value = "";
      bookURL.value = "";
      saveBooks();
      renderBooks();
    });
  </script>
</body>
</html>
